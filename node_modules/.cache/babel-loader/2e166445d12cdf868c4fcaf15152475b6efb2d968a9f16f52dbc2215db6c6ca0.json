{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClerkContextProvider = void 0;\nconst tslib_1 = require(\"tslib\");\nconst react_1 = tslib_1.__importDefault(require(\"react\"));\nconst isomorphicClerk_1 = tslib_1.__importDefault(require(\"../isomorphicClerk\"));\nconst deriveState_1 = require(\"../utils/deriveState\");\nconst AuthContext_1 = require(\"./AuthContext\");\nconst ClientContext_1 = require(\"./ClientContext\");\nconst IsomorphicClerkContext_1 = require(\"./IsomorphicClerkContext\");\nconst OrganizationContext_1 = require(\"./OrganizationContext\");\nconst SessionContext_1 = require(\"./SessionContext\");\nconst UserContext_1 = require(\"./UserContext\");\nfunction ClerkContextProvider(props) {\n  const {\n    isomorphicClerkOptions,\n    initialState,\n    children\n  } = props;\n  const {\n    isomorphicClerk: clerk,\n    loaded: clerkLoaded\n  } = useLoadedIsomorphicClerk(isomorphicClerkOptions);\n  const [state, setState] = react_1.default.useState({\n    client: clerk.client,\n    session: clerk.session,\n    user: clerk.user,\n    organization: clerk.organization,\n    lastOrganizationInvitation: null,\n    lastOrganizationMember: null\n  });\n  react_1.default.useEffect(() => {\n    return clerk.addListener(e => setState(Object.assign({}, e)));\n  }, []);\n  const derivedState = (0, deriveState_1.deriveState)(clerkLoaded, state, initialState);\n  const clerkCtx = react_1.default.useMemo(() => ({\n    value: clerk\n  }), [clerkLoaded]);\n  const clientCtx = react_1.default.useMemo(() => ({\n    value: state.client\n  }), [state.client]);\n  const {\n    sessionId,\n    session,\n    userId,\n    user,\n    orgId,\n    actor,\n    lastOrganizationInvitation,\n    lastOrganizationMember,\n    organization,\n    orgRole,\n    orgSlug\n  } = derivedState;\n  const authCtx = react_1.default.useMemo(() => {\n    const value = {\n      sessionId,\n      userId,\n      actor,\n      orgId,\n      orgRole,\n      orgSlug\n    };\n    return {\n      value\n    };\n  }, [sessionId, userId, actor, orgId, orgRole, orgSlug]);\n  const userCtx = react_1.default.useMemo(() => ({\n    value: user\n  }), [userId, user]);\n  const sessionCtx = react_1.default.useMemo(() => ({\n    value: session\n  }), [sessionId, session]);\n  const organizationCtx = react_1.default.useMemo(() => {\n    const value = {\n      organization: organization,\n      lastOrganizationInvitation: lastOrganizationInvitation,\n      lastOrganizationMember: lastOrganizationMember\n    };\n    return {\n      value\n    };\n  }, [orgId, organization, lastOrganizationInvitation, lastOrganizationMember]);\n  return (\n    // @ts-expect-error\n    react_1.default.createElement(IsomorphicClerkContext_1.IsomorphicClerkContext.Provider, {\n      value: clerkCtx\n    }, react_1.default.createElement(ClientContext_1.ClientContext.Provider, {\n      value: clientCtx\n    }, react_1.default.createElement(SessionContext_1.SessionContext.Provider, {\n      value: sessionCtx\n    }, react_1.default.createElement(OrganizationContext_1.OrganizationContext.Provider, {\n      value: organizationCtx\n    }, react_1.default.createElement(AuthContext_1.AuthContext.Provider, {\n      value: authCtx\n    }, react_1.default.createElement(UserContext_1.UserContext.Provider, {\n      value: userCtx\n    }, children))))))\n  );\n}\nexports.ClerkContextProvider = ClerkContextProvider;\nconst useLoadedIsomorphicClerk = options => {\n  const [loaded, setLoaded] = react_1.default.useState(false);\n  const isomorphicClerk = react_1.default.useMemo(() => isomorphicClerk_1.default.getOrCreateInstance(options), []);\n  react_1.default.useEffect(() => {\n    isomorphicClerk.__unstable__updateProps({\n      appearance: options.appearance\n    });\n  }, [options.appearance]);\n  react_1.default.useEffect(() => {\n    isomorphicClerk.__unstable__updateProps({\n      options\n    });\n  }, [options.localization]);\n  react_1.default.useEffect(() => {\n    isomorphicClerk.addOnLoaded(() => setLoaded(true));\n  }, []);\n  return {\n    isomorphicClerk,\n    loaded\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","ClerkContextProvider","tslib_1","require","react_1","__importDefault","isomorphicClerk_1","deriveState_1","AuthContext_1","ClientContext_1","IsomorphicClerkContext_1","OrganizationContext_1","SessionContext_1","UserContext_1","props","isomorphicClerkOptions","initialState","children","isomorphicClerk","clerk","loaded","clerkLoaded","useLoadedIsomorphicClerk","state","setState","default","useState","client","session","user","organization","lastOrganizationInvitation","lastOrganizationMember","useEffect","addListener","e","assign","derivedState","deriveState","clerkCtx","useMemo","clientCtx","sessionId","userId","orgId","actor","orgRole","orgSlug","authCtx","userCtx","sessionCtx","organizationCtx","createElement","IsomorphicClerkContext","Provider","ClientContext","SessionContext","OrganizationContext","AuthContext","UserContext","options","setLoaded","getOrCreateInstance","__unstable__updateProps","appearance","localization","addOnLoaded"],"sources":["/home/taylorguevarez/code/clerk/app/node_modules/@clerk/clerk-react/dist/contexts/ClerkContextProvider.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClerkContextProvider = void 0;\nconst tslib_1 = require(\"tslib\");\nconst react_1 = tslib_1.__importDefault(require(\"react\"));\nconst isomorphicClerk_1 = tslib_1.__importDefault(require(\"../isomorphicClerk\"));\nconst deriveState_1 = require(\"../utils/deriveState\");\nconst AuthContext_1 = require(\"./AuthContext\");\nconst ClientContext_1 = require(\"./ClientContext\");\nconst IsomorphicClerkContext_1 = require(\"./IsomorphicClerkContext\");\nconst OrganizationContext_1 = require(\"./OrganizationContext\");\nconst SessionContext_1 = require(\"./SessionContext\");\nconst UserContext_1 = require(\"./UserContext\");\nfunction ClerkContextProvider(props) {\n    const { isomorphicClerkOptions, initialState, children } = props;\n    const { isomorphicClerk: clerk, loaded: clerkLoaded } = useLoadedIsomorphicClerk(isomorphicClerkOptions);\n    const [state, setState] = react_1.default.useState({\n        client: clerk.client,\n        session: clerk.session,\n        user: clerk.user,\n        organization: clerk.organization,\n        lastOrganizationInvitation: null,\n        lastOrganizationMember: null,\n    });\n    react_1.default.useEffect(() => {\n        return clerk.addListener(e => setState(Object.assign({}, e)));\n    }, []);\n    const derivedState = (0, deriveState_1.deriveState)(clerkLoaded, state, initialState);\n    const clerkCtx = react_1.default.useMemo(() => ({ value: clerk }), [clerkLoaded]);\n    const clientCtx = react_1.default.useMemo(() => ({ value: state.client }), [state.client]);\n    const { sessionId, session, userId, user, orgId, actor, lastOrganizationInvitation, lastOrganizationMember, organization, orgRole, orgSlug, } = derivedState;\n    const authCtx = react_1.default.useMemo(() => {\n        const value = { sessionId, userId, actor, orgId, orgRole, orgSlug };\n        return { value };\n    }, [sessionId, userId, actor, orgId, orgRole, orgSlug]);\n    const userCtx = react_1.default.useMemo(() => ({ value: user }), [userId, user]);\n    const sessionCtx = react_1.default.useMemo(() => ({ value: session }), [sessionId, session]);\n    const organizationCtx = react_1.default.useMemo(() => {\n        const value = {\n            organization: organization,\n            lastOrganizationInvitation: lastOrganizationInvitation,\n            lastOrganizationMember: lastOrganizationMember,\n        };\n        return { value };\n    }, [orgId, organization, lastOrganizationInvitation, lastOrganizationMember]);\n    return (\n    // @ts-expect-error\n    react_1.default.createElement(IsomorphicClerkContext_1.IsomorphicClerkContext.Provider, { value: clerkCtx },\n        react_1.default.createElement(ClientContext_1.ClientContext.Provider, { value: clientCtx },\n            react_1.default.createElement(SessionContext_1.SessionContext.Provider, { value: sessionCtx },\n                react_1.default.createElement(OrganizationContext_1.OrganizationContext.Provider, { value: organizationCtx },\n                    react_1.default.createElement(AuthContext_1.AuthContext.Provider, { value: authCtx },\n                        react_1.default.createElement(UserContext_1.UserContext.Provider, { value: userCtx }, children)))))));\n}\nexports.ClerkContextProvider = ClerkContextProvider;\nconst useLoadedIsomorphicClerk = (options) => {\n    const [loaded, setLoaded] = react_1.default.useState(false);\n    const isomorphicClerk = react_1.default.useMemo(() => isomorphicClerk_1.default.getOrCreateInstance(options), []);\n    react_1.default.useEffect(() => {\n        isomorphicClerk.__unstable__updateProps({ appearance: options.appearance });\n    }, [options.appearance]);\n    react_1.default.useEffect(() => {\n        isomorphicClerk.__unstable__updateProps({ options });\n    }, [options.localization]);\n    react_1.default.useEffect(() => {\n        isomorphicClerk.addOnLoaded(() => setLoaded(true));\n    }, []);\n    return { isomorphicClerk, loaded };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}