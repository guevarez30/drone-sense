{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deriveState = void 0;\nconst deriveState = (clerkLoaded, state, initialState) => {\n  if (!clerkLoaded && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\nexports.deriveState = deriveState;\nconst deriveFromSsrInitialState = initialState => {\n  const userId = initialState.userId;\n  const user = initialState.user;\n  const sessionId = initialState.sessionId;\n  const session = initialState.session;\n  const organization = initialState.organization;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole;\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    actor,\n    lastOrganizationInvitation: null,\n    lastOrganizationMember: null\n  };\n};\nconst deriveFromClientSideState = state => {\n  var _a;\n  const userId = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const actor = session === null || session === void 0 ? void 0 : session.actor;\n  const organization = state.organization;\n  const orgId = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization === null || organization === void 0 ? void 0 : organization.slug;\n  const membership = organization ? (_a = user === null || user === void 0 ? void 0 : user.organizationMemberships) === null || _a === void 0 ? void 0 : _a.find(om => om.organization.id === orgId) : organization;\n  const orgRole = membership ? membership.role : membership;\n  const lastOrganizationInvitation = state.lastOrganizationInvitation;\n  const lastOrganizationMember = state.lastOrganizationMember;\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    actor,\n    lastOrganizationInvitation,\n    lastOrganizationMember\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","deriveState","clerkLoaded","state","initialState","deriveFromSsrInitialState","deriveFromClientSideState","userId","user","sessionId","session","organization","orgId","orgRole","orgSlug","actor","lastOrganizationInvitation","lastOrganizationMember","_a","id","slug","membership","organizationMemberships","find","om","role"],"sources":["/home/taylorguevarez/code/clerk/app/node_modules/@clerk/clerk-react/dist/utils/deriveState.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deriveState = void 0;\nconst deriveState = (clerkLoaded, state, initialState) => {\n    if (!clerkLoaded && initialState) {\n        return deriveFromSsrInitialState(initialState);\n    }\n    return deriveFromClientSideState(state);\n};\nexports.deriveState = deriveState;\nconst deriveFromSsrInitialState = (initialState) => {\n    const userId = initialState.userId;\n    const user = initialState.user;\n    const sessionId = initialState.sessionId;\n    const session = initialState.session;\n    const organization = initialState.organization;\n    const orgId = initialState.orgId;\n    const orgRole = initialState.orgRole;\n    const orgSlug = initialState.orgSlug;\n    const actor = initialState.actor;\n    return {\n        userId,\n        user,\n        sessionId,\n        session,\n        organization,\n        orgId,\n        orgRole,\n        orgSlug,\n        actor,\n        lastOrganizationInvitation: null,\n        lastOrganizationMember: null,\n    };\n};\nconst deriveFromClientSideState = (state) => {\n    var _a;\n    const userId = state.user ? state.user.id : state.user;\n    const user = state.user;\n    const sessionId = state.session ? state.session.id : state.session;\n    const session = state.session;\n    const actor = session === null || session === void 0 ? void 0 : session.actor;\n    const organization = state.organization;\n    const orgId = state.organization ? state.organization.id : state.organization;\n    const orgSlug = organization === null || organization === void 0 ? void 0 : organization.slug;\n    const membership = organization\n        ? (_a = user === null || user === void 0 ? void 0 : user.organizationMemberships) === null || _a === void 0 ? void 0 : _a.find(om => om.organization.id === orgId)\n        : organization;\n    const orgRole = membership ? membership.role : membership;\n    const lastOrganizationInvitation = state.lastOrganizationInvitation;\n    const lastOrganizationMember = state.lastOrganizationMember;\n    return {\n        userId,\n        user,\n        sessionId,\n        session,\n        organization,\n        orgId,\n        orgRole,\n        orgSlug,\n        actor,\n        lastOrganizationInvitation,\n        lastOrganizationMember,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}